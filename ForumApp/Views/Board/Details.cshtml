@model ForumApp.Web.ViewModels.Board.BoardDetailsViewModel

@{
	ViewData["Title"] = Model.Name;
}

<p>
	<h2>@Model.Name</h2>
	@if (User?.Identity?.IsAuthenticated == true)
	{
		<a asp-controller="Post" asp-action="Create" class="btn btn-success" asp-route-id="@Model.Id">Create post</a>
	}
</p>
<p>
	@Model.Description

</p>


<h3>Posts</h3>

@if (Model.Posts == null || !Model.Posts.Any())
{
	<p>No posts in this board yet.</p>
}
else
{
	<ul class="list-group">
		@foreach (var post in Model.Posts.OrderByDescending(p => p.CreatedAt))
		{
			<li class="list-group-item d-flex justify-content-between align-items-center">
				<a asp-controller="Post" asp-action="Details" asp-route-id="@post.Id">
					@post.Title
				</a>
				<span class="text-muted">@post.CreatedAt</span>
			</li>
		}
	</ul>
}